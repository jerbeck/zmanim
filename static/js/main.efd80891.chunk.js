(this.webpackJsonpzmanim=this.webpackJsonpzmanim||[]).push([[0],{4:function(t,e,n){},43:function(t,e,n){"use strict";n.r(e);var o=n(2),a=n.n(o),i=n(13),c=n.n(i),s=(n(4),n(14)),l=n(15),r=n(17),u=n(16),h=(n(22),n(0)),m=function(t){var e=t.zman,n=t.time;return Object(h.jsxs)("div",{className:"tc bg-light-blue dib br3 pa3 ma2 grow bw2 shadow-5",children:[Object(h.jsx)("h2",{children:e}),Object(h.jsx)("p",{children:n})]})},g=function(t){var e=t.times;return console.log(e),Object(h.jsx)("div",{className:"flex flex-column w-25 pa3 mr2 center",children:e.map((function(t,e){return Object(h.jsx)(m,{zman:t[0],time:t[1]})}))})},d=function(t){var e=t.lookup;return Object(h.jsx)("div",{className:"tc pa2",children:Object(h.jsx)("input",{className:"pa2 ba b--blue bg-lightest-blue",type:"search",placeholder:"Zip Code",onChange:e})})},j=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(e){var n=e.getCLS,o=e.getFID,a=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),o(t),a(t),i(t),c(t)}))},f=function(t){Object(r.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(s.a)(this,n),(t=e.call(this)).getDate=function(){var t=new Date,e=""+(t.getMonth()+1),n=""+t.getDate(),o=t.getFullYear();return e.length<2&&(e="0"+e),n.length<2&&(n="0"+n),[o,e,n].join("-")},t.getTimeZoneID=function(e){fetch("https://api.timezonedb.com/v2.1/get-time-zone?key=ZC4RP7CNVU0E&format=json&by=position&lat="+e[0]+"&lng="+e[0]).then((function(t){return t.json})).then((function(e){return t.setState({tzid:e.zoneName})})).catch((function(t){return console.log("Error looking up timezone",t)}))},t.processTimes=function(t){var e={},n={chatzotNight:"Chatzos (Night)",alotHaShachar:"Alos HaShachar",dawn:"Dawn",sunrise:"Sunrise",sofZmanShma:"Latest Shema",sofZmanTfilla:"Latest Tefilla",chatzot:"Midday",minchaGedola:"Mincha Gedolah",minchaKetana:"Mincha Ketana",plagHaMincha:"Plag HaMincha",sunset:"Sunset",dusk:"Dusk",tzeit42min:"Tzeits HaKochavim",tzeit72min:"Tzeits HaKochavim (72 min)"};for(var o in t)n[o]&&(e[n[o]]=t[o].substring(11,16));return e=Object.entries(e).map((function(t,e){return[t[0],t[1]]}))},t.lookupZip=function(e){5===e.target.value.length&&(t.setState({location:e.target.value}),t.getData(e.target.value))},t.getData=function(e){console.log("running");var n=t.state.location,o="https://www.hebcal.com/zmanim?cfg=json&";if(n){t.getTimeZoneID(n);console.log("timezone",t.state),o=o+"&latitude="+n[0]+"&longitude="+n[1]+"&tzid="+t.state.location}else o=o+"zip="+e,console.log(o);t.forceUpdate(),fetch(o).then((function(t){return t.json()})).then((function(e){return t.setState({times:e.times})})).catch((function(t){return console.log("Something went wrong",t)}))},t.state={date:t.getDate(),timestamp:"",times:{}},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this;console.log("mount"),console.log(this.state),navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){t.setState({location:[e.coords.latitude,e.coords.longitude]}),t.getData([e.coords.latitude,e.coords.longitude])}))}},{key:"componentDidUpdate",value:function(){console.log("update"),console.log(this.state)}},{key:"render",value:function(){console.log("render");var t=this.state,e=t.date,n=t.location,o=this.state.times;return o=this.processTimes(o),console.log(this.state),n?Object(h.jsxs)("div",{className:"tc",children:[Object(h.jsx)("h1",{className:"f1",children:"Zmanim"}),Object(h.jsx)("h2",{className:"tc",children:e}),Object(h.jsx)("h2",{className:"tc",children:n}),Object(h.jsx)(g,{times:o})]}):Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{className:"tc",children:"Please Enter your Zip Code"}),Object(h.jsx)(d,{lookup:this.lookupZip})]})}}]),n}(o.Component);j();var b=f;n(42);c.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(b,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.efd80891.chunk.js.map